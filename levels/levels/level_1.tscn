[gd_scene load_steps=35 format=4 uid="uid://bnp40e3u1gnfo"]

[ext_resource type="PackedScene" uid="uid://diw0kp1e3livt" path="res://levels/rooms/room_d.tscn" id="1_5hph3"]
[ext_resource type="Script" uid="uid://d1tk3y5siof6w" path="res://levels/levels/level_1.gd" id="1_ubhxj"]
[ext_resource type="PackedScene" uid="uid://wyt7eaje6cu7" path="res://pickups/chest/chest.tscn" id="5_27bay"]
[ext_resource type="PackedScene" uid="uid://wdey00p3syru" path="res://levels/background/background_blue_sky.tscn" id="5_gyffv"]
[ext_resource type="PackedScene" uid="uid://bqgndsftdrxo" path="res://npc/pnj.tscn" id="5_itv62"]
[ext_resource type="Script" uid="uid://cgh7p1ci7r8lw" path="res://pickups/item.gd" id="6_sof0w"]
[ext_resource type="Script" uid="uid://dfk1horgdrrx7" path="res://npc/dialogue/dialog_item.gd" id="6_sx2l2"]
[ext_resource type="PackedScene" uid="uid://c3fl3stluv0gn" path="res://levels/bridges.tscn" id="7_bjebc"]
[ext_resource type="Texture2D" uid="uid://d000xjtr4iqtk" path="res://npc/dialogue/emotion_regular.png" id="7_fv7qr"]
[ext_resource type="Resource" uid="uid://c4wh1vgu6lh72" path="res://pickups/healing_item_green_heart.tres" id="7_ggavl"]
[ext_resource type="PackedScene" uid="uid://dlxjrgals3rg2" path="res://levels/invisible_walls.tscn" id="8_5rr72"]
[ext_resource type="Texture2D" uid="uid://bhinvhx75etr2" path="res://npc/dialogue/emotion_sad.png" id="8_sx2l2"]
[ext_resource type="PackedScene" uid="uid://dqd74pi3umw4l" path="res://levels/spawner/spawner.tscn" id="9_sdfxn"]
[ext_resource type="Texture2D" uid="uid://dchimpdsnda13" path="res://npc/dialogue/emotion_happy.png" id="10_fv7qr"]
[ext_resource type="Resource" uid="uid://028tppdurris" path="res://pickups/speed_item_eclair.tres" id="10_sof0w"]
[ext_resource type="PackedScene" uid="uid://bqwac15wys7j3" path="res://levels/rooms/teleporter/teleporter.tscn" id="13_65or1"]
[ext_resource type="Script" uid="uid://coo72sfdgaln7" path="res://pickups/healing_item.gd" id="13_rgqpb"]
[ext_resource type="AudioStream" uid="uid://o3ra7o263286" path="res://pickups/pickup_health.wav" id="13_y3yxe"]
[ext_resource type="PackedScene" uid="uid://dgayuh42w4v6u" path="res://levels/rooms/room_b.tscn" id="14_dud5q"]
[ext_resource type="PackedScene" uid="uid://cu2rb5dl4ljte" path="res://levels/rooms/room_a.tscn" id="14_tj8pf"]
[ext_resource type="Texture2D" uid="uid://be8lmb157qflx" path="res://pickups/pickup_health.png" id="15_hhwnt"]
[ext_resource type="PackedScene" uid="uid://b8hv6elhy11pr" path="res://levels/rooms/entrances/door.tscn" id="16_usq73"]
[ext_resource type="PackedScene" uid="uid://cq0mmphkbrvmm" path="res://levels/rooms/room_c.tscn" id="16_xjxsu"]
[ext_resource type="Script" uid="uid://d4g7fo4jfrlxb" path="res://levels/levels/level_1_scripts/chest_room.gd" id="18_hhwnt"]
[ext_resource type="Script" uid="uid://13vghyr33fyx" path="res://levels/levels/level_1_scripts/teleporter_room.gd" id="23_8tn50"]

[sub_resource type="Resource" id="Resource_rgqpb"]
script = ExtResource("6_sx2l2")
text = "Welcome Sorcerer, we are glad you got here on time"

[sub_resource type="Resource" id="Resource_fv7qr"]
script = ExtResource("6_sx2l2")
text = "We completely lost control of our autonomous security artifacts.."
texture = ExtResource("8_sx2l2")

[sub_resource type="Resource" id="Resource_ldjq8"]
script = ExtResource("6_sx2l2")
text = "That's a shame.. Now, only an experimented sorcerer like you can take care of the mess.. "

[sub_resource type="Resource" id="Resource_y3yxe"]
script = ExtResource("6_sx2l2")
text = "Please hurry !"

[sub_resource type="Resource" id="Resource_hhwnt"]
script = ExtResource("6_sx2l2")
text = "Thank Zoromir, you made it ! "
texture = ExtResource("10_fv7qr")

[sub_resource type="Resource" id="Resource_8tn50"]
script = ExtResource("6_sx2l2")
text = "Ahead lies the teleporter to the next complex"

[sub_resource type="Resource" id="Resource_sdfxn"]
script = ExtResource("6_sx2l2")
text = "We need you there too"
texture = ExtResource("8_sx2l2")

[sub_resource type="Resource" id="Resource_7hxl8"]
script = ExtResource("6_sx2l2")
text = "Beware, I heard the teleporter being activated. Some autonomous security artifact may come from there"

[sub_resource type="Resource" id="Resource_yrd2b"]
script = ExtResource("13_rgqpb")
healing_amount = 3
texture = ExtResource("15_hhwnt")
pickup_sound = ExtResource("13_y3yxe")
metadata/_custom_type_script = "uid://coo72sfdgaln7"

[node name="Level 1" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_ubhxj")
_player_spawn = Vector2(704, 768)

[node name="BackgroundBlueSky" parent="." instance=ExtResource("5_gyffv")]

[node name="SpawnRoom" parent="." instance=ExtResource("1_5hph3")]
position = Vector2(384, -448.00003)
metadata/_edit_lock_ = true

[node name="PNJ" parent="SpawnRoom" instance=ExtResource("5_itv62")]
position = Vector2(193.28766, 959.7416)
rotation = -0.0013414626
dialog_content = Array[ExtResource("6_sx2l2")]([SubResource("Resource_rgqpb"), SubResource("Resource_fv7qr"), SubResource("Resource_ldjq8"), SubResource("Resource_y3yxe")])

[node name="Spawner" parent="SpawnRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(512, 320)
spawn_type = 0

[node name="Spawner2" parent="SpawnRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(1024, 320.00003)
spawn_type = 0

[node name="PNJRoom" parent="." instance=ExtResource("14_dud5q")]
y_sort_enabled = true
position = Vector2(2816, -2944)
metadata/_edit_lock_ = true

[node name="PNJ" parent="PNJRoom" instance=ExtResource("5_itv62")]
position = Vector2(1088, 64)
dialog_content = Array[ExtResource("6_sx2l2")]([SubResource("Resource_hhwnt"), SubResource("Resource_8tn50"), SubResource("Resource_sdfxn"), SubResource("Resource_7hxl8")])

[node name="Chest" parent="PNJRoom" instance=ExtResource("5_27bay")]
position = Vector2(512, 448)
_possible_pickups = Array[ExtResource("6_sof0w")]([SubResource("Resource_yrd2b")])
pickup_amount = 2

[node name="RoomA" parent="." instance=ExtResource("14_tj8pf")]
y_sort_enabled = true
position = Vector2(512, -3136)
metadata/_edit_lock_ = true

[node name="Spawner" parent="RoomA" instance=ExtResource("9_sdfxn")]
position = Vector2(1344, 448)

[node name="Spawner2" parent="RoomA" instance=ExtResource("9_sdfxn")]
position = Vector2(-256, 896)
spawn_type = 0

[node name="Spawner3" parent="RoomA" instance=ExtResource("9_sdfxn")]
position = Vector2(832, 640)
spawn_type = 0

[node name="RoomA2" parent="." instance=ExtResource("14_tj8pf")]
y_sort_enabled = true
position = Vector2(-1920, -1344)
metadata/_edit_lock_ = true

[node name="Spawner" parent="RoomA2" instance=ExtResource("9_sdfxn")]
position = Vector2(1280, 320)
rotation = 0.8949305
scale = Vector2(0.99999994, 0.99999994)
spawn_type = 0

[node name="Spawner2" parent="RoomA2" instance=ExtResource("9_sdfxn")]
position = Vector2(1152, 1088)
scale = Vector2(0.9999998, 0.9999998)
spawn_type = 0

[node name="ChestRoom" parent="." instance=ExtResource("1_5hph3")]
position = Vector2(-1920, 320)
script = ExtResource("18_hhwnt")
metadata/_edit_lock_ = true

[node name="Spawner" parent="ChestRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(384, 320)
rotation = 0.44746524
spawn_on_ready = false
spawn_type = 0

[node name="Spawner2" parent="ChestRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(1152, 512)
rotation = 2.7048488
spawn_on_ready = false
spawn_type = 0

[node name="Spawner3" parent="ChestRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(192, 896)
rotation = -0.41552863
spawn_on_ready = false
spawn_type = 0

[node name="Door" parent="ChestRoom" instance=ExtResource("16_usq73")]
unique_name_in_owner = true
position = Vector2(832, 64)
opened = true

[node name="Chest3" parent="ChestRoom" instance=ExtResource("5_27bay")]
position = Vector2(384, 1216)
_possible_pickups = Array[ExtResource("6_sof0w")]([ExtResource("7_ggavl")])
pickup_amount = 3

[node name="Chest4" parent="ChestRoom" instance=ExtResource("5_27bay")]
position = Vector2(512, 1152)
_possible_pickups = Array[ExtResource("6_sof0w")]([ExtResource("10_sof0w")])

[node name="Chest5" parent="ChestRoom" instance=ExtResource("5_27bay")]
position = Vector2(640, 1216)
_possible_pickups = Array[ExtResource("6_sof0w")]([ExtResource("7_ggavl")])
pickup_amount = 2

[node name="PlayerEnterRoomDetect" type="Area2D" parent="ChestRoom"]
unique_name_in_owner = true
position = Vector2(832, 192)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ChestRoom/PlayerEnterRoomDetect"]
position = Vector2(-192, -64)
polygon = PackedVector2Array(-64, 0, -64, 256, 448, 256, 448, 0, 384, 0, 384, 192, 0, 192, 0, 0)

[node name="TeleporterRoom" parent="." instance=ExtResource("16_xjxsu")]
y_sort_enabled = true
position = Vector2(2560, -5696)
script = ExtResource("23_8tn50")
metadata/_edit_lock_ = true

[node name="Teleporter" parent="TeleporterRoom" instance=ExtResource("13_65or1")]
unique_name_in_owner = true
position = Vector2(448, 128)

[node name="Spawner" parent="TeleporterRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(640, 256)
spawn_on_ready = false

[node name="Spawner2" parent="TeleporterRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(384, 384)
spawn_on_ready = false

[node name="Spawner3" parent="TeleporterRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(1344, 768)
spawn_type = 0

[node name="Spawner4" parent="TeleporterRoom" instance=ExtResource("9_sdfxn")]
position = Vector2(768, 1088)
spawn_on_ready = false
spawn_type = 0

[node name="Door" parent="TeleporterRoom" instance=ExtResource("16_usq73")]
position = Vector2(1216, 1344)
opened = true

[node name="PlayerEnterRoomDetect" type="Area2D" parent="TeleporterRoom"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TeleporterRoom/PlayerEnterRoomDetect"]
position = Vector2(1024, 1280)
polygon = PackedVector2Array(0, 64, 0, -192, 256, -192, 256, -128, 64, -128, 64, 64)

[node name="Bridges" parent="." instance=ExtResource("7_bjebc")]
tile_map_data = PackedByteArray("AAAJAPz/AAAEAAEAAAAJAPv/AAADAAEAAAAJAPr/AAADAAEAAAAJAPn/AAAAAAAAAAAIAPn/AAAAAAEAAAAHAPn/AAAAAAEAAAAGAPn/AAAAAAEAAAAFAPn/AAAAAAEAAAAEAPn/AAAAAAEAAAADAPn/AAAAAAEAAAACAPn/AAAAAAEAAAABAPn/AAAAAAEAAAAAAPn/AAAAAAEAAAD///n/AAAAAAEAAAD+//n/AAAAAAEAAAD9//n/AAAAAAEAAAD8//n/AAABAAEAAAAJAPj/AAABAAAAAAAKAPj/AAADAAAAAAAKAPf/AAADAAEAAAAKAPb/AAADAAEAAAAKAPX/AAADAAEAAAAKAPT/AAADAAEAAAAKAPP/AAADAAEAAAAKAPL/AAAFAAEAAAD3////AAAFAAEAAAD3/wAAAAADAAEAAAARAO3/AAADAAEAAAARAO7/AAADAAEAAAARAO//AAACAAAAAAASAO//AAAAAAEAAAATAO//AAADAAAAAAATAO7/AAADAAEAAAATAO3/AAABAAAAAAAUAO3/AAAAAAEAAAAVAO3/AAACAAEAAAAdAOj/AAAEAAEAAAAdAOf/AAADAAEAAAAdAOb/AAADAAEAAAAdAOX/AAADAAEAAAAdAOT/AAADAAEAAAAdAOP/AAADAAEAAAAdAOL/AAADAAEAAAAdAOH/AAADAAEAAAAdAOD/AAAAAAAAAAAcAOH/AAADAAEAAAAcAOD/AAABAAAAAAAdAN//AAAFAAEAAAAeAOD/AAAFAAEAAAAeAOH/AAADAAEAAAAcAOL/AAACAAAAAAAeAOL/AAADAAAAAAAKAPH/AAAAAAAAAAAdAN7/AAAAAAAAAAD3/wEAAAAFAAEAAAARAOz/AAADAAEAAAAPAOv/AAABAAEAAAAQAOv/AAAAAAEAAAARAOv/AAAAAAAAAAD3/wIAAAABAAAAAAA=")
metadata/_edit_lock_ = true

[node name="Chest" parent="Bridges" instance=ExtResource("5_27bay")]
position = Vector2(3840, -3968)
_possible_pickups = Array[ExtResource("6_sof0w")]([ExtResource("7_ggavl")])
pickup_amount = 2

[node name="Chest2" parent="Bridges" instance=ExtResource("5_27bay")]
position = Vector2(3712, -3968)
_possible_pickups = Array[ExtResource("6_sof0w")]([ExtResource("7_ggavl")])
pickup_amount = 3

[node name="InvisibleWalls" parent="." instance=ExtResource("8_5rr72")]
visible = false
tile_map_data = PackedByteArray("AAAKAPv/AAAAAAAAAAAKAPr/AAAAAAAAAAAKAPn/AAAAAAAAAAAIAPv/AAAAAAAAAAAIAPr/AAAAAAAAAAD9//r/AAAAAAAAAAD+//r/AAAAAAAAAAD///r/AAAAAAAAAAAAAPr/AAAAAAAAAAABAPr/AAAAAAAAAAACAPr/AAAAAAAAAAADAPr/AAAAAAAAAAAEAPr/AAAAAAAAAAAFAPr/AAAAAAAAAAAGAPr/AAAAAAAAAAAHAPr/AAAAAAAAAAD9//j/AAAAAAAAAAD+//j/AAAAAAAAAAD///j/AAAAAAAAAAAFAPj/AAAAAAAAAAAGAPj/AAAAAAAAAAAHAPj/AAAAAAAAAAAIAPj/AAAAAAAAAAAEAPj/AAAAAAAAAAADAPj/AAAAAAAAAAACAPj/AAAAAAAAAAABAPj/AAAAAAAAAAAAAPj/AAAAAAAAAAAIAPf/AAAAAAAAAAAJAPf/AAAAAAAAAAALAPj/AAAAAAAAAAALAPf/AAAAAAAAAAALAPb/AAAAAAAAAAALAPX/AAAAAAAAAAALAPT/AAAAAAAAAAALAPP/AAAAAAAAAAAJAPP/AAAAAAAAAAAJAPT/AAAAAAAAAAAJAPX/AAAAAAAAAAAJAPb/AAAAAAAAAAALAPn/AAAAAAAAAAAQAO3/AAAAAAAAAAAQAO7/AAAAAAAAAAAQAO//AAAAAAAAAAAQAPD/AAAAAAAAAAARAPD/AAAAAAAAAAASAPD/AAAAAAAAAAATAPD/AAAAAAAAAAAUAPD/AAAAAAAAAAAUAO//AAAAAAAAAAAUAO7/AAAAAAAAAAASAO7/AAAAAAAAAAASAO3/AAAAAAAAAAASAOz/AAAAAAAAAAASAOv/AAAAAAAAAAATAOz/AAAAAAAAAAAUAOz/AAAAAAAAAAAcAOP/AAAAAAAAAAAcAOT/AAAAAAAAAAAcAOX/AAAAAAAAAAAcAOb/AAAAAAAAAAAcAOf/AAAAAAAAAAAeAOP/AAAAAAAAAAAeAOT/AAAAAAAAAAAeAOf/AAAAAAAAAAAeAOb/AAAAAAAAAAAeAOX/AAAAAAAAAAAfAOD/AAAAAAAAAAAfAOH/AAAAAAAAAAAfAOL/AAAAAAAAAAAbAOD/AAAAAAAAAAAbAOH/AAAAAAAAAAAbAOL/AAAAAAAAAAAfAOP/AAAAAAAAAAAbAOP/AAAAAAAAAAAQAOz/AAAAAAAAAAAQAOr/AAAAAAAAAAARAOr/AAAAAAAAAAASAOr/AAAAAAAAAAAJAPL/AAABAAAAAAALAPL/AAABAAAAAAAbAN//AAAAAAAAAAAfAN//AAAAAAAAAAD4/wEAAAAAAAAAAAD2/wIAAAAAAAAAAAD2/wEAAAAAAAAAAAA=")
